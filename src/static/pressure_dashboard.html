<!DOCTYPE html>
<head>
  <meta
    http-equiv="Content-Security-Policy"
    content="upgrade-insecure-requests"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="{{ base_url }}static/pressure.css"
  />
  <script
    type="text/javascript"
    src="{{ base_url }}static/pressure.js"
  ></script>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.25.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.12.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.22.1"></script>
</head>
<html>
  <body onload="init_vega('{{ base_url }}')">
    <!-- <body onload="init_vega('http://127.0.0.1:8000/')"> -->
    <div id="body">
      <div id="vis">
        <div class="loader-parent">
          <div class="loader"></div>
        </div>
      </div>

      <div class="filters">
        <fieldset id="filters">
          <legend>Filtterit</legend>
          <input type="date" id="start-date" />
          <div><p>...</p></div>
          <input type="date" id="end-date" />
          <input
            type="text"
            id="user-filter"
            pattern="([a-z]+,)*[a-z]+"
            placeholder="joni,johanna"
          />
          <div></div>
          <label for="user-filter">Henkilöfiltteri</label>
          <!--<input
            type="text"
            id="businessunit-filter"
            pattern="((tie|bad|vis|johto|hallinto|sov|lah),)*(tie|bad|vis|johto|hallinto|sov|lah)"
            placeholder="tie,bad"
          />
          <div></div>-->
          <!--<label for="businessunit-filter"><s>Yksikköfiltteri</s> (ei toiminnassa)</label>-->
        </fieldset>
        <p>
          <strong>Pääkuvaaja</strong> esittää kiiremittaustulokset oletuksena
          henkilöittäin väritettynä. Henkilöperustaiset keskiarvot esitetään
          rasteilla, koko aineiston keskiarvo katkoviivaristillä. Havaintojen
          tooltipeissä tarkempaa tietoa. Aineistoa voi rajata henkilöittäin
          klikkaamalla nimiä yläoikealta. Shiftillä voi valita useamman nimen,
          shift-klikkaus valitun nimen kohdalla poistaa valinnat.
        </p>

        <p>
          <strong>Aikajanat</strong> esittävät valittujen kiiremerkintöjen
          päivittäisiä keskiarvoja. Katkoviivoitettu alue on 95%:n
          luottamusväli. Molempia aikajanoja voi käyttää ajanjakson rajaamiseen,
          klikkaa ja raahaa väli hiirellä.
        </p>

        <p>
          <strong>Filttereillä</strong> voi rajata aineistoa edellisen lisäksi.
          Filttereiden muokkaaminen suorittaa uuden tietokantahaun, muu
          rajaaminen toimii selaimessa.
        </p>
        <!--
        <fieldset id="graphics">
          <legend>Esitystavat</legend>
          <div>
            <input type="checkbox" id="show-total-mean" />
            <label for="show-total-mean">Näytä keskiarvo</label>
            <input type="checkbox" id="show-user-means" />
            <label for="show-user-means"
              >Näytä käyttäjäkohtaiset keskiarvot</label
            >
          </div>
          <fieldset>
            <legend>Väritys</legend>

            <input
              type="radio"
              name="coloring-by"
              id="off"
              value="off"
              checked
            />
            <label for="off">Ei väritystä</label>
            <input type="radio" name="coloring-by" id="user" value="user" />
            <label for="user">Per käyttäjä</label> -->
        <!--<input
              type="radio"
              name="coloring-by"
              id="businessunit"
              value="businessunit"
            /> -->
        <!--<label for="businessunit">Per yksikkö (ei toimi)</label>-->
        <!-- </fieldset>
        </fieldset> -->
      </div>
    </div>
  </body>
</html>
